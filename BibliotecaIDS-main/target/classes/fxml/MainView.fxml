<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<BorderPane xmlns="http://javafx.com/javafx/17" 
            xmlns:fx="http://javafx.com/fxml/1" 
            fx:controller="it.unisa.biblioteca.controller.MainController"
            prefHeight="600.0" prefWidth="900.0">
    
    <!-- HEADER -->
    <top>
        <VBox style="-fx-background-color: #2c3e50;">
            <padding>
                <Insets top="20" right="20" bottom="20" left="20"/>
            </padding>
            <Label text="ðŸ“š Sistema Gestione Biblioteca" textFill="white">
                <font>
                    <Font name="System Bold" size="28"/>
                </font>
            </Label>
            <Label text="Gestisci libri, utenti e prestiti in modo semplice e veloce" textFill="#ecf0f1">
                <font>
                    <Font size="14"/>
                </font>
            </Label>
        </VBox>
    </top>
    
    <!-- CENTER - Menu Cards -->
    <center>
        <VBox alignment="CENTER" spacing="30" style="-fx-background-color: #ecf0f1;">
            <padding>
                <Insets top="40" right="40" bottom="40" left="40"/>
            </padding>
            
            <!-- Prima riga di cards -->
            <HBox alignment="CENTER" spacing="30">
                <!-- Card Libri -->
                <VBox alignment="CENTER" spacing="15" 
                      style="-fx-background-color: white; -fx-background-radius: 10; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 10, 0, 0, 5);"
                      prefWidth="250" prefHeight="200">
                    <padding>
                        <Insets top="20" right="20" bottom="20" left="20"/>
                    </padding>
                    <Label text="ðŸ“š" style="-fx-font-size: 48px;"/>
                    <Label text="Gestione Libri">
                        <font>
                            <Font name="System Bold" size="18"/>
                        </font>
                    </Label>
                    <Label text="Aggiungi, modifica e cerca libri" 
                           textAlignment="CENTER" wrapText="true"
                           style="-fx-text-fill: #7f8c8d;"/>
                    <Button text="Apri" fx:id="btnLibri" onAction="#handleLibri"
                            style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-font-size: 14px; -fx-padding: 10 30 10 30; -fx-background-radius: 5;"/>
                </VBox>
                
                <!-- Card Utenti -->
                <VBox alignment="CENTER" spacing="15" 
                      style="-fx-background-color: white; -fx-background-radius: 10; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 10, 0, 0, 5);"
                      prefWidth="250" prefHeight="200">
                    <padding>
                        <Insets top="20" right="20" bottom="20" left="20"/>
                    </padding>
                    <Label text="ðŸ‘¥" style="-fx-font-size: 48px;"/>
                    <Label text="Gestione Utenti">
                        <font>
                            <Font name="System Bold" size="18"/>
                        </font>
                    </Label>
                    <Label text="Gestisci gli utenti registrati" 
                           textAlignment="CENTER" wrapText="true"
                           style="-fx-text-fill: #7f8c8d;"/>
                    <Button text="Apri" fx:id="btnUtenti" onAction="#handleUtenti"
                            style="-fx-background-color: #9b59b6; -fx-text-fill: white; -fx-font-size: 14px; -fx-padding: 10 30 10 30; -fx-background-radius: 5;"/>
                </VBox>
                
                <!-- Card Prestiti -->
                <VBox alignment="CENTER" spacing="15" 
                      style="-fx-background-color: white; -fx-background-radius: 10; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 10, 0, 0, 5);"
                      prefWidth="250" prefHeight="200">
                    <padding>
                        <Insets top="20" right="20" bottom="20" left="20"/>
                    </padding>
                    <Label text="ðŸ“–" style="-fx-font-size: 48px;"/>
                    <Label text="Gestione Prestiti">
                        <font>
                            <Font name="System Bold" size="18"/>
                        </font>
                    </Label>
                    <Label text="Prestiti e restituzioni" 
                           textAlignment="CENTER" wrapText="true"
                           style="-fx-text-fill: #7f8c8d;"/>
                    <Button text="Apri" fx:id="btnPrestiti" onAction="#handlePrestiti"
                            style="-fx-background-color: #e74c3c; -fx-text-fill: white; -fx-font-size: 14px; -fx-padding: 10 30 10 30; -fx-background-radius: 5;"/>
                </VBox>
            </HBox>
            
            <!-- Statistiche rapide -->
            <HBox alignment="CENTER" spacing="40">
                <VBox alignment="CENTER" spacing="5">
                    <Label fx:id="lblTotaleLibri" text="0" style="-fx-font-size: 32px; -fx-font-weight: bold; -fx-text-fill: #3498db;"/>
                    <Label text="Libri Totali" style="-fx-text-fill: #7f8c8d;"/>
                </VBox>
                <VBox alignment="CENTER" spacing="5">
                    <Label fx:id="lblTotaleUtenti" text="0" style="-fx-font-size: 32px; -fx-font-weight: bold; -fx-text-fill: #9b59b6;"/>
                    <Label text="Utenti Registrati" style="-fx-text-fill: #7f8c8d;"/>
                </VBox>
                <VBox alignment="CENTER" spacing="5">
                    <Label fx:id="lblPrestitiAttivi" text="0" style="-fx-font-size: 32px; -fx-font-weight: bold; -fx-text-fill: #e74c3c;"/>
                    <Label text="Prestiti Attivi" style="-fx-text-fill: #7f8c8d;"/>
                </VBox>
            </HBox>
        </VBox>
    </center>
    
    <!-- FOOTER -->
    <bottom>
        <HBox alignment="CENTER" style="-fx-background-color: #34495e; -fx-padding: 15;">
            <Label fx:id="lblStatus" text="Sistema pronto" textFill="#ecf0f1">
                <font>
                    <Font size="12"/>
                </font>
            </Label>
        </HBox>
    </bottom>
    
</BorderPane>
